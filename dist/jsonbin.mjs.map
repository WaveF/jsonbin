{"version":3,"file":"jsonbin.mjs","sources":["../libs/main.js"],"sourcesContent":["class jsonbin {\n  #id = \"\";\n  #apiKey = \"\";\n  #accessKey = \"\";\n\n  constructor(id) {\n    this.#id = id;\n  }\n\n  get id() {\n    return this.#id;\n  }\n\n  set id(id) {\n    this.#id = id;\n  }\n\n  get apiKey() {\n    return this.#apiKey;\n  }\n\n  set apiKey(key) {\n    this.#apiKey = key;\n  }\n\n  get accessKey() {\n    return this.#accessKey;\n  }\n\n  set accessKey(key) {\n    this.#accessKey = key;\n  }\n\n  read() {\n    const binId = this.#id;\n    const binVersion = \"latest\";\n\n    return fetch(`https://api.jsonbin.io/v3/b/${binId}/${binVersion}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-Access-Key\": this.#accessKey,\n      },\n    })\n      .then((response) => response.json())\n      .catch((error) => {\n        console.error(error);\n      });\n  }\n\n  update(data) {\n    const binId = this.#id;\n\n    return fetch(`https://api.jsonbin.io/v3/b/${binId}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        // 'X-Access-Key': this.#accessKey,\n      },\n      body: JSON.stringify(data),\n    })\n      .then((response) => response.json())\n      .catch((error) => {\n        console.error(error);\n      });\n  }\n\n  create(_name, _private = false) {\n    // if (this.#id) {\n    //     return new Promise((resolve, reject) => {\n    //         resolve({id:this.#id});\n    //     });\n    // }\n\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      \"X-Bin-Private\": _private,\n    };\n\n    if (this.#apiKey != \"\") {\n      headers[\"X-Master-Key\"] = this.#apiKey;\n    }\n\n    if (this.#accessKey != \"\" && this.#apiKey == \"\") {\n      headers[\"X-Access-Key\"] = this.#accessKey;\n    }\n\n    if (_name) {\n      headers[\"X-Bin-Name\"] = _name;\n    }\n\n    return fetch(`https://api.jsonbin.io/v3/b`, {\n      method: \"POST\",\n      headers,\n      body: JSON.stringify({ foo: \"bar\" }),\n    })\n      .then((response) => response.json())\n      .catch((error) => {\n        console.error(error);\n      });\n  }\n\n  delete(binId = this.#id) {\n    const headers = {};\n\n    if (this.#apiKey != \"\") {\n      headers[\"X-Master-Key\"] = this.#apiKey;\n    }\n\n    if (this.#accessKey != \"\" && this.#apiKey == \"\") {\n      headers[\"X-Access-Key\"] = this.#accessKey;\n    }\n\n    return fetch(`https://api.jsonbin.io/v3/b/${binId}`, {\n      method: \"DELETE\",\n      headers,\n    })\n      .then((response) => response.json())\n      .catch((error) => {\n        console.error(error);\n      });\n  }\n}\n\n// window.jsonbin = jsonbin;\nexport default jsonbin;\n"],"names":["_id","_apiKey","_accessKey","jsonbin","id","__privateAdd","__privateSet","__privateGet","key","binId","response","error","data","_name","_private","headers"],"mappings":";;;;;;;;;AAAA,IAAAA,GAAAC,GAAAC;AAAA,MAAMC,EAAQ;AAAA,EAKZ,YAAYC,GAAI;AAJhB,IAAAC,EAAA,MAAAL,GAAM;AACN,IAAAK,EAAA,MAAAJ,GAAU;AACV,IAAAI,EAAA,MAAAH,GAAa;AAGX,IAAAI,EAAA,MAAKN,GAAMI;AAAA,EACZ;AAAA,EAED,IAAI,KAAK;AACP,WAAOG,EAAA,MAAKP;AAAA,EACb;AAAA,EAED,IAAI,GAAGI,GAAI;AACT,IAAAE,EAAA,MAAKN,GAAMI;AAAA,EACZ;AAAA,EAED,IAAI,SAAS;AACX,WAAOG,EAAA,MAAKN;AAAA,EACb;AAAA,EAED,IAAI,OAAOO,GAAK;AACd,IAAAF,EAAA,MAAKL,GAAUO;AAAA,EAChB;AAAA,EAED,IAAI,YAAY;AACd,WAAOD,EAAA,MAAKL;AAAA,EACb;AAAA,EAED,IAAI,UAAUM,GAAK;AACjB,IAAAF,EAAA,MAAKJ,GAAaM;AAAA,EACnB;AAAA,EAED,OAAO;AACL,UAAMC,IAAQF,EAAA,MAAKP;AAGnB,WAAO,MAAM,+BAA+BS,CAAK,WAAkB;AAAA,MACjE,SAAS;AAAA,QACP,gBAAgB;AAAA,QAChB,gBAAgBF,EAAA,MAAKL;AAAA,MACtB;AAAA,IACP,CAAK,EACE,KAAK,CAACQ,MAAaA,EAAS,KAAI,CAAE,EAClC,MAAM,CAACC,MAAU;AAChB,cAAQ,MAAMA,CAAK;AAAA,IAC3B,CAAO;AAAA,EACJ;AAAA,EAED,OAAOC,GAAM;AACX,UAAMH,IAAQF,EAAA,MAAKP;AAEnB,WAAO,MAAM,+BAA+BS,CAAK,IAAI;AAAA,MACnD,QAAQ;AAAA,MACR,SAAS;AAAA,QACP,gBAAgB;AAAA;AAAA,MAEjB;AAAA,MACD,MAAM,KAAK,UAAUG,CAAI;AAAA,IAC/B,CAAK,EACE,KAAK,CAACF,MAAaA,EAAS,KAAI,CAAE,EAClC,MAAM,CAACC,MAAU;AAChB,cAAQ,MAAMA,CAAK;AAAA,IAC3B,CAAO;AAAA,EACJ;AAAA,EAED,OAAOE,GAAOC,IAAW,IAAO;AAO9B,UAAMC,IAAU;AAAA,MACd,gBAAgB;AAAA,MAChB,iBAAiBD;AAAA,IACvB;AAEI,WAAIP,EAAA,MAAKN,MAAW,OAClBc,EAAQ,cAAc,IAAIR,EAAA,MAAKN,KAG7BM,EAAA,MAAKL,MAAc,MAAMK,EAAA,MAAKN,MAAW,OAC3Cc,EAAQ,cAAc,IAAIR,EAAA,MAAKL,KAG7BW,MACFE,EAAQ,YAAY,IAAIF,IAGnB,MAAM,+BAA+B;AAAA,MAC1C,QAAQ;AAAA,MACR,SAAAE;AAAA,MACA,MAAM,KAAK,UAAU,EAAE,KAAK,MAAK,CAAE;AAAA,IACzC,CAAK,EACE,KAAK,CAACL,MAAaA,EAAS,KAAI,CAAE,EAClC,MAAM,CAACC,MAAU;AAChB,cAAQ,MAAMA,CAAK;AAAA,IAC3B,CAAO;AAAA,EACJ;AAAA,EAED,OAAOF,IAAQF,EAAA,MAAKP,IAAK;AACvB,UAAMe,IAAU,CAAA;AAEhB,WAAIR,EAAA,MAAKN,MAAW,OAClBc,EAAQ,cAAc,IAAIR,EAAA,MAAKN,KAG7BM,EAAA,MAAKL,MAAc,MAAMK,EAAA,MAAKN,MAAW,OAC3Cc,EAAQ,cAAc,IAAIR,EAAA,MAAKL,KAG1B,MAAM,+BAA+BO,CAAK,IAAI;AAAA,MACnD,QAAQ;AAAA,MACR,SAAAM;AAAA,IACN,CAAK,EACE,KAAK,CAACL,MAAaA,EAAS,KAAI,CAAE,EAClC,MAAM,CAACC,MAAU;AAChB,cAAQ,MAAMA,CAAK;AAAA,IAC3B,CAAO;AAAA,EACJ;AACH;AAxHEX,IAAA,eACAC,IAAA,eACAC,IAAA;"}