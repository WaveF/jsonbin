{"version":3,"file":"jsonbin.js","sources":["../libs/main.js"],"sourcesContent":["class jsonbin {\n  #id = \"\";\n  #apiKey = \"\";\n  #accessKey = \"\";\n\n  constructor(id) {\n    this.#id = id;\n  }\n\n  get id() {\n    return this.#id;\n  }\n\n  set id(id) {\n    this.#id = id;\n  }\n\n  get apiKey() {\n    return this.#apiKey;\n  }\n\n  set apiKey(key) {\n    this.#apiKey = key;\n  }\n\n  get accessKey() {\n    return this.#accessKey;\n  }\n\n  set accessKey(key) {\n    this.#accessKey = key;\n  }\n\n  read() {\n    const binId = this.#id;\n    const binVersion = \"latest\";\n\n    return fetch(`https://api.jsonbin.io/v3/b/${binId}/${binVersion}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-Access-Key\": this.#accessKey,\n      },\n    })\n      .then((response) => response.json())\n      .catch((error) => {\n        console.error(error);\n      });\n  }\n\n  update(data) {\n    const binId = this.#id;\n\n    return fetch(`https://api.jsonbin.io/v3/b/${binId}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        // 'X-Access-Key': this.#accessKey,\n      },\n      body: JSON.stringify(data),\n    })\n      .then((response) => response.json())\n      .catch((error) => {\n        console.error(error);\n      });\n  }\n\n  create(_name, _private = false) {\n    // if (this.#id) {\n    //     return new Promise((resolve, reject) => {\n    //         resolve({id:this.#id});\n    //     });\n    // }\n\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      \"X-Bin-Private\": _private,\n    };\n\n    if (this.#apiKey != \"\") {\n      headers[\"X-Master-Key\"] = this.#apiKey;\n    }\n\n    if (this.#accessKey != \"\" && this.#apiKey == \"\") {\n      headers[\"X-Access-Key\"] = this.#accessKey;\n    }\n\n    if (_name) {\n      headers[\"X-Bin-Name\"] = _name;\n    }\n\n    return fetch(`https://api.jsonbin.io/v3/b`, {\n      method: \"POST\",\n      headers,\n      body: JSON.stringify({ foo: \"bar\" }),\n    })\n      .then((response) => response.json())\n      .catch((error) => {\n        console.error(error);\n      });\n  }\n\n  delete(binId = this.#id) {\n    const headers = {};\n\n    if (this.#apiKey != \"\") {\n      headers[\"X-Master-Key\"] = this.#apiKey;\n    }\n\n    if (this.#accessKey != \"\" && this.#apiKey == \"\") {\n      headers[\"X-Access-Key\"] = this.#accessKey;\n    }\n\n    return fetch(`https://api.jsonbin.io/v3/b/${binId}`, {\n      method: \"DELETE\",\n      headers,\n    })\n      .then((response) => response.json())\n      .catch((error) => {\n        console.error(error);\n      });\n  }\n}\n\n// window.jsonbin = jsonbin;\nexport default jsonbin;\n"],"names":["jsonbin","id","__privateAdd","_id","_apiKey","_accessKey","__privateSet","__privateGet","key","binId","response","error","data","_name","_private","headers"],"mappings":"0WAAA,MAAMA,CAAQ,CAKZ,YAAYC,EAAI,CAJhBC,EAAA,KAAAC,EAAM,IACND,EAAA,KAAAE,EAAU,IACVF,EAAA,KAAAG,EAAa,IAGXC,EAAA,KAAKH,EAAMF,EACZ,CAED,IAAI,IAAK,CACP,OAAOM,EAAA,KAAKJ,EACb,CAED,IAAI,GAAGF,EAAI,CACTK,EAAA,KAAKH,EAAMF,EACZ,CAED,IAAI,QAAS,CACX,OAAOM,EAAA,KAAKH,EACb,CAED,IAAI,OAAOI,EAAK,CACdF,EAAA,KAAKF,EAAUI,EAChB,CAED,IAAI,WAAY,CACd,OAAOD,EAAA,KAAKF,EACb,CAED,IAAI,UAAUG,EAAK,CACjBF,EAAA,KAAKD,EAAaG,EACnB,CAED,MAAO,CACL,MAAMC,EAAQF,EAAA,KAAKJ,GAGnB,OAAO,MAAM,+BAA+BM,CAAK,UAAkB,CACjE,QAAS,CACP,eAAgB,mBAChB,eAAgBF,EAAA,KAAKF,EACtB,CACP,CAAK,EACE,KAAMK,GAAaA,EAAS,KAAI,CAAE,EAClC,MAAOC,GAAU,CAChB,QAAQ,MAAMA,CAAK,CAC3B,CAAO,CACJ,CAED,OAAOC,EAAM,CACX,MAAMH,EAAQF,EAAA,KAAKJ,GAEnB,OAAO,MAAM,+BAA+BM,CAAK,GAAI,CACnD,OAAQ,MACR,QAAS,CACP,eAAgB,kBAEjB,EACD,KAAM,KAAK,UAAUG,CAAI,CAC/B,CAAK,EACE,KAAMF,GAAaA,EAAS,KAAI,CAAE,EAClC,MAAOC,GAAU,CAChB,QAAQ,MAAMA,CAAK,CAC3B,CAAO,CACJ,CAED,OAAOE,EAAOC,EAAW,GAAO,CAO9B,MAAMC,EAAU,CACd,eAAgB,mBAChB,gBAAiBD,CACvB,EAEI,OAAIP,EAAA,KAAKH,IAAW,KAClBW,EAAQ,cAAc,EAAIR,EAAA,KAAKH,IAG7BG,EAAA,KAAKF,IAAc,IAAME,EAAA,KAAKH,IAAW,KAC3CW,EAAQ,cAAc,EAAIR,EAAA,KAAKF,IAG7BQ,IACFE,EAAQ,YAAY,EAAIF,GAGnB,MAAM,8BAA+B,CAC1C,OAAQ,OACR,QAAAE,EACA,KAAM,KAAK,UAAU,CAAE,IAAK,KAAK,CAAE,CACzC,CAAK,EACE,KAAML,GAAaA,EAAS,KAAI,CAAE,EAClC,MAAOC,GAAU,CAChB,QAAQ,MAAMA,CAAK,CAC3B,CAAO,CACJ,CAED,OAAOF,EAAQF,EAAA,KAAKJ,GAAK,CACvB,MAAMY,EAAU,CAAA,EAEhB,OAAIR,EAAA,KAAKH,IAAW,KAClBW,EAAQ,cAAc,EAAIR,EAAA,KAAKH,IAG7BG,EAAA,KAAKF,IAAc,IAAME,EAAA,KAAKH,IAAW,KAC3CW,EAAQ,cAAc,EAAIR,EAAA,KAAKF,IAG1B,MAAM,+BAA+BI,CAAK,GAAI,CACnD,OAAQ,SACR,QAAAM,CACN,CAAK,EACE,KAAML,GAAaA,EAAS,KAAI,CAAE,EAClC,MAAOC,GAAU,CAChB,QAAQ,MAAMA,CAAK,CAC3B,CAAO,CACJ,CACH,CAxHER,EAAA,YACAC,EAAA,YACAC,EAAA"}